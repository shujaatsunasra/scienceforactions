(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{43:(e,t,a)=>{Promise.resolve().then(a.bind(a,3792))},3792:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var n=a(5155),r=a(2115),i=a(5695),o=a(5063);function c(){let e=(0,i.useRouter)();return(0,r.useEffect)(()=>{(async()=>{await o.Ew.navigateTo(e,"/main",{replace:!0,prefetch:!1})||o.Ew.emergencyNavigate("/main")})()},[e]),(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background",children:(0,n.jsxs)("div",{className:"text-center space-y-4",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),(0,n.jsx)("p",{className:"text-grayText",children:"Redirecting to Science for Action..."})]})})}},5063:(e,t,a)=>{"use strict";a.d(t,{Ew:()=>r});class n{static getInstance(e){return n.instance||(n.instance=new n(e)),n.instance}async validateRoute(e){try{if(!e||"/"===e||!e.startsWith("/"))return!1;return["/main","/explore","/tool","/profile","/admin","/action"].some(t=>e===t||e.startsWith(t+"/"))}catch(e){return console.warn("Route validation failed:",e),!1}}safeEncodeURIComponent(e){try{if(!e||"string"!=typeof e)return"";return encodeURIComponent(e.trim())}catch(t){return console.warn("URI encoding failed:",e,t),e.replace(/[^a-zA-Z0-9-_.~]/g,"")}}buildActionRoute(e){try{let{intent:t,topic:a,location:n}=e;if(!t||!a)return console.warn("Missing required route parameters:",e),null;let r=this.safeEncodeURIComponent(t),i=this.safeEncodeURIComponent(a);if(!r||!i)return console.warn("Failed to encode route parameters:",e),null;let o="/action/".concat(r,"/").concat(i);if(n&&n.trim()){let e=this.safeEncodeURIComponent(n);e&&(o+="?location=".concat(e))}return o}catch(t){return console.error("Route building failed:",e,t),null}}async navigateWithRetry(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{replace:n=!1,scroll:r=!0}=a;for(let a=0;a<=this.config.retryAttempts;a++)try{return await this.validateRoute(t)||(console.warn("Invalid route detected: ".concat(t,", using fallback")),t=this.config.fallbackRoute),n?e.replace(t,{scroll:r}):e.push(t,{scroll:r}),!0}catch(t){if(console.warn("Navigation attempt ".concat(a+1," failed:"),t),a<this.config.retryAttempts){await this.delay(this.retryDelays[a]||500);continue}try{console.error("All navigation attempts failed, using emergency fallback"),e.replace(this.config.fallbackRoute);break}catch(e){console.error("Emergency fallback navigation failed:",e);break}}return!1}async smartPrefetch(e,t){if(this.config.enablePrefetch)try{if(!await this.validateRoute(t))return void console.warn("Skipping prefetch for invalid route: ".concat(t));e&&"function"==typeof e.prefetch&&t&&await Promise.race([e.prefetch(t),this.delay(this.config.timeout)])}catch(e){console.warn("Prefetch failed (non-critical):",t,e)}}async navigateToAction(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{let n=this.buildActionRoute(t);if(!n)return console.error("Failed to build action route, using fallback"),this.navigateWithRetry(e,"/tool");return!1!==a.prefetch&&this.config.enablePrefetch&&this.smartPrefetch(e,n).catch(()=>{}),this.navigateWithRetry(e,n,{replace:a.replace,scroll:!0})}catch(a){return console.error("Action navigation failed:",t,a),this.navigateWithRetry(e,"/tool")}}async navigateTo(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{let n=t;if(a.params&&a.params.toString()){let e=t.includes("?")?"&":"?";n="".concat(t).concat(e).concat(a.params.toString())}return!1!==a.prefetch&&this.config.enablePrefetch&&this.smartPrefetch(e,n).catch(()=>{}),this.navigateWithRetry(e,n,{replace:a.replace,scroll:!0})}catch(a){return console.error("Navigation failed:",t,a),this.navigateWithRetry(e,this.config.fallbackRoute)}}emergencyNavigate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/main";try{window.location.href=e}catch(e){console.error("Emergency navigation failed:",e),window.location.reload()}}delay(e){return new Promise(t=>setTimeout(t,e))}parseSearchParams(e){let t={};try{e&&e.forEach((e,a)=>{e&&a&&(t[a]=decodeURIComponent(e))})}catch(e){console.warn("Search params parsing failed:",e)}return t}updateConfig(e){this.config={...this.config,...e}}constructor(e={}){this.retryDelays=[100,300,500],this.config={enablePrefetch:!0,retryAttempts:2,timeout:5e3,fallbackRoute:"/main",...e}}}let r=n.getInstance()},5695:(e,t,a)=>{"use strict";var n=a(8999);a.o(n,"usePathname")&&a.d(t,{usePathname:function(){return n.usePathname}}),a.o(n,"useRouter")&&a.d(t,{useRouter:function(){return n.useRouter}})}},e=>{e.O(0,[441,964,358],()=>e(e.s=43)),_N_E=e.O()}]);