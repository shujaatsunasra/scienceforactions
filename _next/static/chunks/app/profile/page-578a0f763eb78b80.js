(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{3658:(e,t,s)=>{Promise.resolve().then(s.bind(s,6185))},6185:(e,t,s)=>{"use strict";s.d(t,{default:()=>m});var a=s(5155),r=s(2115),l=s(2039),i=s(7083),n=s(1793),d=s(4879);let o=n.P.div,c=n.P.button,x=()=>{let{engagementData:e,generatedActions:t}=(0,i.f)(),{profile:s}=(0,l.x)(),[n,x]=(0,r.useState)("overview"),m=e.totalActionsViewed>0?Math.round(e.actionsCompleted/e.totalActionsViewed*100):0,p=e.totalActionsViewed>0?Math.round(e.totalTimeSpent/e.totalActionsViewed):0,g=t.filter(e=>e.completedAt||e.savedAt).sort((e,t)=>{let s=new Date(e.completedAt||e.savedAt||0).getTime();return new Date(t.completedAt||t.savedAt||0).getTime()-s}).slice(0,5),h=Math.min(10*e.actionsCompleted+5*e.actionsSaved+2*Math.floor(e.totalTimeSpent/60),100),u=(e=>e>=80?{level:"High Impact Activist",color:"text-green-600",bgColor:"bg-green-100"}:e>=60?{level:"Active Participant",color:"text-blue-600",bgColor:"bg-blue-100"}:e>=40?{level:"Engaged Citizen",color:"text-yellow-600",bgColor:"bg-yellow-100"}:e>=20?{level:"Getting Started",color:"text-purple-600",bgColor:"bg-purple-100"}:{level:"New Activist",color:"text-gray-600",bgColor:"bg-gray-100"})(h),b={overview:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-primary/10 to-primary/5 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-text",children:"Your Impact Level"}),(0,a.jsx)("p",{className:"text-grayText",children:"Based on your civic engagement"})]}),(0,a.jsx)("div",{className:"px-3 py-1 rounded-full ".concat(u.bgColor," ").concat(u.color," font-medium text-sm"),children:u.level})]}),(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,a.jsx)("span",{children:"Progress"}),(0,a.jsxs)("span",{children:[h,"/100"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)(o,{className:"bg-gradient-to-r from-primary to-primaryDark h-2 rounded-full",initial:{width:0},animate:{width:"".concat(h,"%")},transition:{duration:1,ease:"easeOut"}})})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-card rounded-lg p-4 border border-grayBorder",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-primary",children:e.actionsCompleted}),(0,a.jsx)("div",{className:"text-sm text-grayText",children:"Actions Completed"})]}),(0,a.jsxs)("div",{className:"bg-card rounded-lg p-4 border border-grayBorder",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-primary",children:e.actionsSaved}),(0,a.jsx)("div",{className:"text-sm text-grayText",children:"Actions Saved"})]}),(0,a.jsxs)("div",{className:"bg-card rounded-lg p-4 border border-grayBorder",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-primary",children:Math.floor(e.totalTimeSpent/60)}),(0,a.jsx)("div",{className:"text-sm text-grayText",children:"Minutes Engaged"})]}),(0,a.jsxs)("div",{className:"bg-card rounded-lg p-4 border border-grayBorder",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-primary",children:e.streakDays}),(0,a.jsx)("div",{className:"text-sm text-grayText",children:"Day Streak"})]})]}),(0,a.jsxs)("div",{className:"bg-card rounded-lg p-6 border border-grayBorder",children:[(0,a.jsx)("h4",{className:"text-md font-semibold text-text mb-4",children:"Action Completion Rate"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,a.jsx)("span",{children:"Completion Rate"}),(0,a.jsxs)("span",{children:[m,"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)(o,{className:"bg-green-500 h-2 rounded-full",initial:{width:0},animate:{width:"".concat(m,"%")},transition:{duration:1,ease:"easeOut"}})})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-lg font-semibold text-text",children:[e.actionsCompleted,"/",e.totalActionsViewed]}),(0,a.jsx)("div",{className:"text-xs text-grayText",children:"completed/viewed"})]})]})]}),e.preferredTopics.length>0&&(0,a.jsxs)("div",{className:"bg-card rounded-lg p-6 border border-grayBorder",children:[(0,a.jsx)("h4",{className:"text-md font-semibold text-text mb-4",children:"Your Key Focus Areas"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:e.preferredTopics.slice(0,6).map(e=>(0,a.jsx)("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium",children:e},e))})]})]}),history:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-text",children:"Recent Activity"}),g.length>0?(0,a.jsx)("div",{className:"space-y-3",children:g.map(e=>(0,a.jsx)(o,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-card rounded-lg p-4 border border-grayBorder hover:border-primary/20 transition-colors",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium text-text mb-1",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-grayText line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.completedAt?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"),children:e.completedAt?"Completed":"Saved"}),(0,a.jsx)("span",{className:"text-xs text-grayText",children:new Date(e.completedAt||e.savedAt||"").toLocaleDateString()})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-1 ml-4",children:Array(e.impact).fill(0).map((e,t)=>(0,a.jsx)("span",{className:"text-primary text-sm",children:"★"},t))})]})},e.id))}):(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-grayText",children:"No actions yet. Start engaging to see your history!"})})]}),impact:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-text mb-2",children:"Your Civic Impact"}),(0,a.jsx)("p",{className:"text-grayText",children:"See how your actions contribute to positive change"})]}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-green-600",children:e.actionsCompleted}),(0,a.jsx)("div",{className:"text-sm text-grayText",children:"Actions Completed"}),(0,a.jsx)("div",{className:"text-xs text-green-600 mt-1",children:"Direct Impact"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:e.actionsSaved}),(0,a.jsx)("div",{className:"text-sm text-grayText",children:"Actions Saved"}),(0,a.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:"Future Potential"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:Math.floor(e.totalTimeSpent/3600)}),(0,a.jsx)("div",{className:"text-sm text-grayText",children:"Hours Invested"}),(0,a.jsx)("div",{className:"text-xs text-purple-600 mt-1",children:"Time Commitment"})]})]})}),(0,a.jsxs)("div",{className:"bg-card rounded-lg p-6 border border-grayBorder",children:[(0,a.jsx)("h4",{className:"text-md font-semibold text-text mb-4",children:"Your Engagement Pattern"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-grayText",children:"Most Active Times"}),(0,a.jsx)("span",{className:"text-text font-medium",children:e.engagementPattern.mostActiveHours.length>0?"".concat(e.engagementPattern.mostActiveHours[0],":00 - ").concat(e.engagementPattern.mostActiveHours[0]+1,":00"):"Building pattern..."})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-grayText",children:"Average Session"}),(0,a.jsx)("span",{className:"text-text font-medium",children:p>0?"".concat(p,"s"):"Calculating..."})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-grayText",children:"Preferred Action Types"}),(0,a.jsx)("span",{className:"text-text font-medium",children:e.preferredIntents.length>0?e.preferredIntents[0]:"Discovering..."})]})]})]}),(0,a.jsxs)("div",{className:"bg-card rounded-lg p-6 border border-grayBorder",children:[(0,a.jsx)("h4",{className:"text-md font-semibold text-text mb-4",children:"Recommended Next Steps"}),(0,a.jsxs)("div",{className:"space-y-2",children:[h<25&&(0,a.jsx)("p",{className:"text-sm text-grayText",children:"• Complete your first action to build momentum"}),h>=25&&h<50&&(0,a.jsx)("p",{className:"text-sm text-grayText",children:"• Try engaging with different topics to broaden your impact"}),h>=50&&h<75&&(0,a.jsx)("p",{className:"text-sm text-grayText",children:"• Consider sharing actions with friends to amplify your influence"}),h>=75&&(0,a.jsx)("p",{className:"text-sm text-grayText",children:"• You're making significant impact! Consider becoming a community organizer"}),(0,a.jsx)("p",{className:"text-sm text-grayText",children:"• Save actions for later to build your personal action plan"}),(0,a.jsx)("p",{className:"text-sm text-grayText",children:"• Engage consistently to maintain your streak"})]})]})]})};return(0,a.jsxs)("div",{className:"w-full max-w-4xl mx-auto p-6",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-text mb-2",children:"Your Progress Dashboard"}),(0,a.jsx)("p",{className:"text-grayText",children:"Track your civic engagement and impact over time"})]}),(0,a.jsx)("div",{className:"flex gap-1 bg-graySoft rounded-lg p-1 mb-8",children:["overview","history","impact"].map(e=>(0,a.jsx)(c,{whileTap:{scale:.95},className:"flex-1 px-4 py-2 rounded-lg text-sm font-medium transition-all ".concat(n===e?"bg-white text-text shadow-sm":"text-grayText hover:text-text"),onClick:()=>x(e),children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),(0,a.jsx)(d.N,{mode:"wait",children:(0,a.jsx)(o,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:b[n]},n)})]})};function m(){var e,t,s;let{profile:d,isLoading:o,isNewUser:c,updateProfile:m,addInterest:p,removeInterest:g,resetProfile:h,exportProfileData:u,importProfileData:b}=(0,l.x)(),{engagementData:y}=(0,i.f)(),[j,v]=(0,r.useState)("profile"),[f,N]=(0,r.useState)((null==d?void 0:d.name)||""),[w,T]=(0,r.useState)((null==d?void 0:d.location)||""),[C,A]=(0,r.useState)(""),[S,k]=(0,r.useState)(""),[B,P]=(0,r.useState)("");return o?(0,a.jsx)("div",{className:"p-8 text-center text-grayText",children:"Loading profile..."}):(0,a.jsxs)("div",{className:"w-full min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"sticky top-0 bg-white border-b border-grayBorder z-10",children:(0,a.jsx)("div",{className:"w-full max-w-2xl mx-auto px-2 md:px-0",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("button",{className:"px-6 py-4 font-medium border-b-2 transition-colors ".concat("profile"===j?"border-primary text-primary":"border-transparent text-grayText hover:text-text"),onClick:()=>v("profile"),children:"Profile"}),(0,a.jsx)("button",{className:"px-6 py-4 font-medium border-b-2 transition-colors ".concat("progress"===j?"border-primary text-primary":"border-transparent text-grayText hover:text-text"),onClick:()=>v("progress"),children:"Progress & Impact"})]})})}),"progress"===j?(0,a.jsx)(x,{}):(0,a.jsxs)("div",{className:"w-full max-w-2xl mx-auto py-8 px-2 md:px-0",children:[(0,a.jsxs)("div",{className:"bg-card rounded-card shadow-card border border-grayBorder p-8 mb-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Your Profile"}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Name"}),(0,a.jsx)("input",{className:"w-full rounded-xl border border-grayBorder px-4 py-2 text-base focus:outline-none focus:ring-2 focus:ring-primary transition placeholder:text-grayText bg-graySoft",value:f,onChange:e=>N(e.target.value),onBlur:()=>m({name:f}),placeholder:"Enter your name"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Location"}),(0,a.jsx)("input",{className:"w-full rounded-xl border border-grayBorder px-4 py-2 text-base focus:outline-none focus:ring-2 focus:ring-primary transition placeholder:text-grayText bg-graySoft",value:w,onChange:e=>T(e.target.value),onBlur:()=>m({location:w}),placeholder:"Enter your location"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Interests"}),(0,a.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,a.jsx)("input",{className:"flex-1 rounded-xl border border-grayBorder px-4 py-2 text-base focus:outline-none focus:ring-2 focus:ring-primary transition placeholder:text-grayText bg-graySoft",value:C,onChange:e=>A(e.target.value),placeholder:"Add an interest",onKeyDown:e=>{"Enter"===e.key&&C.trim()&&(p(C.trim()),A(""))}}),(0,a.jsx)("button",{className:"px-4 py-2 bg-primary text-white rounded-xl font-medium hover:bg-primary/90 transition-colors",onClick:()=>{C.trim()&&(p(C.trim()),A(""))},type:"button",children:"Add"})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:null==d?void 0:d.interests.map(e=>(0,a.jsx)(n.P.div,{whileHover:{scale:1.05},children:(0,a.jsxs)("div",{className:"flex items-center gap-1 px-3 py-1 rounded-pill bg-graySoft text-xs text-grayText font-medium",children:[e,(0,a.jsx)("button",{className:"ml-1 text-primary",onClick:()=>g(e),type:"button",children:"\xd7"})]})},e))})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Contribution Stats"}),(0,a.jsxs)("div",{className:"flex gap-6 mt-2",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("span",{className:"text-lg font-bold",children:(null==d||null==(e=d.contribution_stats)?void 0:e.actions_completed)||0}),(0,a.jsx)("span",{className:"text-xs text-grayText",children:"Actions"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("span",{className:"text-lg font-bold",children:(null==d||null==(t=d.contribution_stats)?void 0:t.policies_viewed)||0}),(0,a.jsx)("span",{className:"text-xs text-grayText",children:"Policies"})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("span",{className:"text-lg font-bold",children:(null==d||null==(s=d.contribution_stats)?void 0:s.organizations_supported)||0}),(0,a.jsx)("span",{className:"text-xs text-grayText",children:"Organizations"})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,a.jsx)("button",{className:"px-4 py-2 bg-graySoft text-text rounded-xl font-medium hover:bg-grayBorder transition-colors",onClick:h,type:"button",children:"Reset Profile"}),(0,a.jsx)("button",{className:"px-4 py-2 bg-primary text-white rounded-xl font-medium hover:bg-primary/90 transition-colors",onClick:()=>{let e=u();navigator.clipboard.writeText(e),alert("Profile data copied to clipboard!")},type:"button",children:"Export"})]})]}),(0,a.jsxs)("div",{className:"bg-card rounded-card shadow-card border border-grayBorder p-8",children:[(0,a.jsx)("h3",{className:"text-lg font-bold mb-2",children:"Import Profile Data"}),(0,a.jsx)("textarea",{className:"w-full rounded-xl border border-grayBorder px-4 py-2 text-base focus:outline-none focus:ring-2 focus:ring-primary transition placeholder:text-grayText bg-graySoft mb-2",rows:3,value:S,onChange:e=>k(e.target.value),placeholder:"Paste exported profile JSON here"}),B&&(0,a.jsx)("div",{className:"text-red-600 text-sm mb-2",children:B}),(0,a.jsx)("button",{className:"px-4 py-2 bg-primary text-white rounded-xl font-medium hover:bg-primary/90 transition-colors",onClick:()=>{b(S)?P(""):P("Invalid profile data")},type:"button",children:"Import"})]})]})]})}}},e=>{e.O(0,[793,647,338,674,822,441,964,358],()=>e(e.s=3658)),_N_E=e.O()}]);